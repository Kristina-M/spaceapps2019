import React, { Component } from 'react';
import { Map, GoogleApiWrapper, InfoWindow, Marker } from 'google-maps-react';
import { Polygon } from "google-maps-react";
import { makeStyles } from '@material-ui/core/styles';
import AppBar from '@material-ui/core/AppBar';
import Toolbar from '@material-ui/core/Toolbar';
import Typography from '@material-ui/core/Typography';
import Button from '@material-ui/core/Button';

const mapStyles = {
    width: '100%',
    height: '100%'
};

const communities = {
    "Community0": [
        {
            "lat": 27.079327195245174,
            "lng": 82.67642393415603
        },
        {
            "lat": 27.079019111204815,
            "lng": 82.67603814481774
        },
        {
            "lat": 27.07929699092749,
            "lng": 82.6751894082735
        },
        {
            "lat": 27.07962319755846,
            "lng": 82.67398795004851
        },
        {
            "lat": 27.08023332477564,
            "lng": 82.67389976962833
        },
        {
            "lat": 27.080583694860753,
            "lng": 82.67356909305266
        },
        {
            "lat": 27.08087969717404,
            "lng": 82.67384465686573
        },
        {
            "lat": 27.08038434636405,
            "lng": 82.6744178295969
        },
        {
            "lat": 27.081042800489524,
            "lng": 82.6750461150907
        },
        {
            "lat": 27.08094614667294,
            "lng": 82.6756744005845
        },
        {
            "lat": 27.080632021769045,
            "lng": 82.6759720095026
        },
        {
            "lat": 27.08031789686515,
            "lng": 82.67561928782187
        },
        {
            "lat": 27.07992524073528,
            "lng": 82.676401889051
        },
        {
            "lat": 27.07985879123638,
            "lng": 82.67687585880947
        },
        {
            "lat": 27.080118548368446,
            "lng": 82.67711835496497
        },
        {
            "lat": 27.080958228400014,
            "lng": 82.67772459535372
        },
        {
            "lat": 27.08087969717404,
            "lng": 82.67906934676148
        },
        {
            "lat": 27.08043267327234,
            "lng": 82.67964251949267
        },
        {
            "lat": 27.079182214520298,
            "lng": 82.67865048976563
        },
        {
            "lat": 27.079393644744073,
            "lng": 82.67654518223378
        },
        {
            "lat": 27.079327195245174,
            "lng": 82.67642393415603
        }
    ],
    "Community1": [
        {
            "lat": 27.070725005569273,
            "lng": 82.67823163276977
        },
        {
            "lat": 27.071208274652186,
            "lng": 82.67861742210806
        },
        {
            "lat": 27.071570726464373,
            "lng": 82.67831981318994
        },
        {
            "lat": 27.07171570718925,
            "lng": 82.67901423399887
        },
        {
            "lat": 27.071963382594245,
            "lng": 82.67927877525942
        },
        {
            "lat": 27.07227750749814,
            "lng": 82.6786835574232
        },
        {
            "lat": 27.07239228390533,
            "lng": 82.67772459535372
        },
        {
            "lat": 27.071619053372665,
            "lng": 82.676401889051
        },
        {
            "lat": 27.07119015206158,
            "lng": 82.6771844902801
        },
        {
            "lat": 27.07054377966318,
            "lng": 82.67678767838929
        },
        {
            "lat": 27.069836998629413,
            "lng": 82.67685381370443
        },
        {
            "lat": 27.069740344812832,
            "lng": 82.67784584343147
        },
        {
            "lat": 27.069770549130514,
            "lng": 82.67826470042733
        },
        {
            "lat": 27.070580024844396,
            "lng": 82.67760334727596
        },
        {
            "lat": 27.070827700249392,
            "lng": 82.6778127757739
        },
        {
            "lat": 27.070725005569273,
            "lng": 82.67823163276977
        }
    ],
    "Community2": [
        {
            "lat": 27.07232583440643,
            "lng": 82.68400745029166
        },
        {
            "lat": 27.071993586911926,
            "lng": 82.68547344977718
        },
        {
            "lat": 27.073099064939097,
            "lng": 82.68553958509231
        },
        {
            "lat": 27.07328029084519,
            "lng": 82.68512072809645
        },
        {
            "lat": 27.073117187529704,
            "lng": 82.68424994644715
        },
        {
            "lat": 27.07232583440643,
            "lng": 82.68400745029166
        }
    ],
    "Community3": [
        {
            "lat": 27.079592993240777,
            "lng": 82.68406256305427
        },
        {
            "lat": 27.07921241883798,
            "lng": 82.68385313455634
        },
        {
            "lat": 27.07934531783578,
            "lng": 82.68292724014444
        },
        {
            "lat": 27.079574870650166,
            "lng": 82.68282803717173
        },
        {
            "lat": 27.07974401482919,
            "lng": 82.68325791672011
        },
        {
            "lat": 27.079792341737477,
            "lng": 82.68343427756048
        },
        {
            "lat": 27.079592993240777,
            "lng": 82.68406256305427
        }
    ],
    "Community4": [
        {
            "lat": 27.075817453530497,
            "lng": 82.67777970811633
        },
        {
            "lat": 27.075340225311116,
            "lng": 82.6786835574232
        },
        {
            "lat": 27.075388552219408,
            "lng": 82.67910241441905
        },
        {
            "lat": 27.075920148210617,
            "lng": 82.67916854973419
        },
        {
            "lat": 27.07654235715487,
            "lng": 82.67901423399887
        },
        {
            "lat": 27.076578602336088,
            "lng": 82.67847412892526
        },
        {
            "lat": 27.075920148210617,
            "lng": 82.67793402385165
        },
        {
            "lat": 27.075817453530497,
            "lng": 82.67777970811633
        }
    ],
    "Community5": [
        {
            "lat": 27.079327195245174,
            "lng": 82.67642393415603
        },
        {
            "lat": 27.079019111204815,
            "lng": 82.67603814481774
        },
        {
            "lat": 27.07929699092749,
            "lng": 82.6751894082735
        },
        {
            "lat": 27.07962319755846,
            "lng": 82.67398795004851
        },
        {
            "lat": 27.08023332477564,
            "lng": 82.67389976962833
        },
        {
            "lat": 27.080583694860753,
            "lng": 82.67356909305266
        },
        {
            "lat": 27.08087969717404,
            "lng": 82.67384465686573
        },
        {
            "lat": 27.08038434636405,
            "lng": 82.6744178295969
        },
        {
            "lat": 27.081042800489524,
            "lng": 82.6750461150907
        },
        {
            "lat": 27.08094614667294,
            "lng": 82.6756744005845
        },
        {
            "lat": 27.080632021769045,
            "lng": 82.6759720095026
        },
        {
            "lat": 27.08031789686515,
            "lng": 82.67561928782187
        },
        {
            "lat": 27.07992524073528,
            "lng": 82.676401889051
        },
        {
            "lat": 27.07985879123638,
            "lng": 82.67687585880947
        },
        {
            "lat": 27.080118548368446,
            "lng": 82.67711835496497
        },
        {
            "lat": 27.080958228400014,
            "lng": 82.67772459535372
        },
        {
            "lat": 27.08087969717404,
            "lng": 82.67906934676148
        },
        {
            "lat": 27.08043267327234,
            "lng": 82.67964251949267
        },
        {
            "lat": 27.079182214520298,
            "lng": 82.67865048976563
        },
        {
            "lat": 27.079393644744073,
            "lng": 82.67654518223378
        },
        {
            "lat": 27.079327195245174,
            "lng": 82.67642393415603
        }
    ],
    "community1": [
        {
            "lat": 26.992998,
            "lng": 81.533650
        },
        {
            "lat": 26.993376,
            "lng": 81.535117
        },
        {
            "lat": 26.994364,
            "lng": 81.535103
        },
        {
            "lat": 26.995435,
            "lng": 81.534364
        },
        {
            "lat": 26.995635,
            "lng": 81.532549
        },
        {
            "lat": 26.995180,
            "lng": 81.532166
        }
    ],
    "community2": [
        {
            "lat": 26.998618,
            "lng": 81.529647
        },
        {
            "lat": 26.999220,
            "lng": 81.529535
        },
        {
            "lat": 26.999369,
            "lng": 81.529036
        },
        {
            "lat": 26.998312,
            "lng": 81.528653
        },
        {
            "lat": 26.998312,
            "lng": 81.528653
        }
    ],
    "community3": [
        {
            "lat": 26.995477,
            "lng": 81.556190
        },
        {
            "lat": 26.996291,
            "lng": 81.557349
        },
        {
            "lat": 26.997323,
            "lng": 81.556241
        },
        {
            "lat": 26.996574,
            "lng": 81.555081
        }
    ],
    "community4": [
        {
            "lat": 27.003855,
            "lng": 81.554072
        },
        {
            "lat": 27.003310,
            "lng": 81.553980
        },
        {
            "lat": 27.002498,
            "lng": 81.554844
        },
        {
            "lat": 27.003422,
            "lng": 81.556129
        }
    ],
    "community5": [
        {
            "lat": 26.992522,
            "lng": 81.557464
        },
        {
            "lat": 26.992830,
            "lng": 81.557708
        },
        {
            "lat": 26.992547,
            "lng": 81.558533
        },
        {
            "lat": 26.992166,
            "lng": 81.558391
        }
    ]
}

export class MapContainer extends Component {

    constructor(props) {
        super(props);

        this.state = {
            stores: [{lat: 47.49855629475769, lng: -122.14184416996333},
                {latitude: 47.359423, longitude: -122.021071},
                {latitude: 47.2052192687988, longitude: -121.988426208496},
                {latitude: 47.6307081, longitude: -122.1434325},
                {latitude: 47.3084488, longitude: -122.2140121},
                {latitude: 47.5524695, longitude: -122.0425407}]
        }

    }

    displayMarkers = () => {
        return this.state.stores.map((store, index) => {
            return <Marker key={index} id={index} position={{
                lat: store.latitude,
                lng: store.longitude
            }}
                           onClick={() => console.log("You clicked me!")}/>
        })
    }

    displayCommunities = () => {
        var coords;
        var key = 1 ;
        var community_polygons = [];
        for ( var community in communities){
            key++;
            coords = communities[community]
            community_polygons.push(<Polygon
                key={key}
                paths={coords}
                strokeColor="#ffaa17"
                strokeOpacity={0.8}
                strokeWeight={2}
                fillColor="#ffa640"
                fillOpacity={0.35} />)
            console.log(coords)
        }
        return community_polygons;
    }

    render() {
        return (
            <div>
                <AppBar position="static" color="primary">
                    <Toolbar>
                        <Typography variant="h6">
                            Planet Captain
                        </Typography>
                    </Toolbar>
                </AppBar>
            <Map
                google={this.props.google}
                zoom={8}
                style={mapStyles}
                mapType={"satellite"}
                initialCenter={{lat: 26.8, lng: 80.9 }}>
                {this.displayCommunities()}
                <Marker
                    position={{ lat: -34.397, lng: 150.644 }}
                />
            </Map>
            </div>

        );
    }
}


export default GoogleApiWrapper({
    apiKey: 'AIzaSyANs8IkEudsPGEA1dicW7gLY8T7K6orJ3E'
})(MapContainer);